\chapter{Introducción}
\label{cap1}

\section{Monitores de neutrones}
	Un monitor de neutrones es un detector que detecta partículas provenientes del espacio, de alta energía que inciden en la atmósfera terrestre. 
	Cuando una partícula proveniente del espacio penetra en la atmósfera esta choca con alguna de las partículas que forman la atmósfera. 
	Este choque causa la división de las partículas en piezas más pequeñas, piezas que salen disparadas del violento choque y que a su vez 
	se chocan con otras partículas para dar lugar a aún más piezas. Vemos como una sola partícula proveniente del espacio produce el fenómeno 
	denominado cascadas atmosféricas. Como es de esperar con cada choque consecutivo se pierde parte de la energía que originalmente llevaba la 
	partícula extraterrestre, es muy normal que las partículas que llegan al nivel terrestre lleguen con tan solo 5\% de la energía que tenia la 
	partícula que originó todo el evento. Como es de esperar si una partícula no posee la energía suficiente la cascada no se propaga hasta la 
	superficie terrestre. Un monitor de neutrones es una estación terrestre que monitoriza la llegada de partículas extraterrestres de forma 
	indirecta a partir de las cascadas atmosféricas. Los monitores de neutrones están especialmente diseñados para capturar las partículas 
	secundarias producidas por la incidencia de partículas extraterrestres en nuestra atmósfera.
	\par
	La mayor parte de la radiación cósmica proviene de fuera de nuestro sistema solar, pero la llegada de esta esta fuertemente relacionada con 
	los ciclos solares. Los ciclos solares de 11 años aproximadamente, afectan la actividad solar pasando por un mínimo y un máximo, donde los
	cambios son apreciables en la luminosidad y el campo magnético. Es este segundo, el campo magnético solar, el que afecta a la llegada de 
	radiación cósmica a la Tierra. En la presencia de un fuerte campo magnético las partículas son desviadas, por lo que menos consiguen llegar a
	la Tierra cuando el campo magnético solar es más fuerte. A continuación detallaremos los sucesos más comunes que un monitor de neutrones
	registra. 
	\begin{itemize}
	  	\item	Ciclo solar. Como hemos explicado existe una fuerte relación entre la cantidad de radiación cósmica y la actividad solar. 
		  	La radiación cósmica es un buen indicador de la actividad solar donde la relación es inversa. Menos radiación generalmente
			significa una actividad solar elevada.	
		\item	Forbush decrease. Estos sucesos consisten en un descenso rápido de los niveles de radiación cósmica medida en la Tierra. Estos
		  	descensos son consecuencia de CME's. La materia expulsada en un CME al ser en su mayoría plasma extiende y intensifica el 		%%TODO CME nota a pie da página 
			campo magnético solar. Como ya hemos explicado el aumento del campo magnético solar conlleva al descenso de radiación cósmica. 
		\item	Ground level enhancements. Eventualmente la actividad solar es tan elevada que el Sol es capaz de emitir partículas
		  	suficientemente energéticas para que alcancen la superficie Terrestre. Al alcanzar la superficie terrestre estas son 
			registradas por los monitores de neutrones lo que conlleva en un incremento brusco en la cantidad registrada. Estos sucesos
			son muy raros, entre 10 y 15 por década, aproximadamente.  
	\end{itemize}
	Para capturar estas partículas, en su mayoría protones y núcleos de Helio los monitores están compuestos por cuatro capas. Empezaremos 
	explicando primero la capa mas exterior y acabaremos explicando la capa mas interior.
	\begin{itemize}
		\item   Reflector. La primera capa consiste en un escudo reflector que tan solo deja pasar las partículas con energías altas. De 
		        esta manera todas las partículas generadas por el entorno inmediato que tienen baja energía rebotan y no influyen en nuestra 
			medición. 
		\item   Productor. La siguiente capa, generalmente de material denso tiene como objetivo conseguir algo parecido a las cascadas 
		        atmosféricas. La idea es tener un material denso para que sea muy probable que las partículas impacten con las partículas 
			del material y como resultado se produzcan mas partículas. De esta manera la señal es amplificada. 
		\item   Moderador. A pesar de que las partículas que tenemos a este nivel tienen tan solo una fracción de la energía original estas
		        aun siguen siendo demasiado energéticas para ser capturadas. La siguiente capa tiene como objetivo ralentizar, disminuir 
			la energía, de las partículas para así poder capturarlas.
		\item   Contador. Un contador o tubo contador generalmente esta relleno de gas. Cuando una de las partículas ralentizadas por el 
		        Moderador choca con una de las partículas del gas es liberada una pequeña cantidad de energía en forma de electricidad, 
			una señal eléctrica que podemos medir.
      	\end{itemize}
	Los sistemas de adquisición están diseñados para recoger estas pequeñas señales y medirlas. Tradicionalmente la medida que se realiza son 
	eventos por minuto, las señales son capturadas, amplificadas y registradas en un contador que se reinicia cada minuto. Con la realización
	del nuevo sistema de adquisición de datos nuestro objetivo es no tan solo proporcionar una dosificación de eventos sino proporcionar mas 
	información sobre estos, en concreto mediremos la intensidad de las señales eléctricas. 


\section{NMDB}
	NMDB es una red mundial de monitores de neutrones. Antes de proceder a hablar sobre la red en concreto expondremos las ventajas y razones de
	una red de monitores de neutrones.
	\begin{itemize}
		\item 	Espectro de energías. Al igual que el Sol, la Tierra tiene campo magnético. Este campo magnético repele con mayor fuerza en
		  	las regiones ecuatoriales que en los polos. Esto implica que solo las partículas más energéticas son perceptibles en las
			zonas ecuatoriales, mientras que en los polos las partículas no necesitan ser tan energéticas para ser medidas. Combinando
			dados de estaciones que se encuentran a diferentes latitudes podemos construir espectrogramas basados en la energía de las
			partículas.
		\item 	Anisotropía. Tener estaciones en diferentes lugares del globo terráqueo implica estar orientado a diferente dirección del
		  	espacio. Esto implica el poder hacer estudios sobre la procedencia de eventos.
		\item 	Redundancia. El tener muchas estaciones implica detectar el mismo eventos en mas de una estación. Esto nos permite comparar
		  	los datos entre estaciones y descartar fluctuaciones grandes, rápidas y asiladas en una sola estación.
		\item 	Cooperación. Estar en una red implica mejorar la comunicación entre las diferentes estaciones. De esta manera los resultados
		  	son mejores y el avance más rápido. 
	\end{itemize}
	Como ya hemos comentado NMDB es una red mundial, impulsada por la Comisión Europea. Actualmente la red supera las veinte estaciones. La red 
	proporciona datos en tiempo real con resolución de 1 minuto. Los formatos de los datos están estandarizados entre las diferentes estaciones.
	Los datos en tiempo real son utilizados para la elaboración de un sistema de alarma GLE. Un GLE fuerte podria tener un impacto grande en
	nuestras vidas diarias, un impacto negativo. Es interesante poder detectar GLEs lo antes posible, este es uno de los objetivo de NMDB.
	Otro de los objetivos es hacer los datos fácilmente disponibles. Esto ha conllevado a que los datos de la red sean usados en otros campos 
	científicos no necesariamente relacionados con la radiación cósmica. 


\section{CALMA}
	CALMA es el primer y único monitor de neutrones en España. CALMA forma parte del NMDB. Dispone de 15 tubos contadores llenos con trifluoruro 
	de boro y un sistema de adquisición de datos que consiste en un sistema empotrado Linux que hace uso de una FPGA que es la encargada de 
	llevar las cuentas de los tubos. El sistema de adquisición actual ha sido desarrollado por el equipo de CALMA y también esta implantado en 
	otras estaciones que forman parte del NMDB. CALMA empezó a operar de forma plena de diciembre de 2012 y desde entonces lleva haciéndolo 
	ininterrumpidamente con pequeñas excepciones. El equipo técnico de  CALMA esta profundamente implicado en desarrollar sistemas y herramientas 
	que mejoren el funcionamiento del NMDB. La idea para este trabajo es desarrollar el software del nuevo sistema de adquisición que el equipo 
	de CALMA esta desarrollando, una vez realizado el nuevo sistema de adquisición desarrollaremos una herramienta que nos permitirá monitorizar 
	el estado de nuestra estación
	Desde su puesta en marcha CALMA ha registrado 18 Forbush decreases. Desafortunadamente aun no ha habido ningún GLE que detectar, aunque este
	tendría que ser muy energético para ser detectado por CALMA. Debido a que CALMA esta situada en una latitud media, el vertical cutoff rigidity
	es bastante elevado, por lo que un GLE tendría que ser bastante energético para ser detectado por CALMA. 
	Procederemos a hablar más a fondo del estado actual de CALMA, hablaremos del sistema de adquisición, base da datos, herramientas y técnicas
	que son usadas.
	\subsection{Sistema de adquisición}
		Actualmente el sistema de adquisición que esta implantado en CALMA es producto del equipo de CALMA. El sistema consiste en un sistema empotrado
		Linux que hace uso de una FPGA que procesa las señales procedentes de los tubos. Antes de llegar a la FPGA las señales pasan por un circuito 
		adaptador, las señales pasan de analógicas a digitales. La FPGA se encarga de llevar la cuenta del numero de eventos para los 18 canales. El 
		software que se ejecuta en el sistema Linux tiene como tarea comunicarse con la FPGA, pedirle las cuentas cada minuto y finalmente guardar los
		datos en una base de datos. Desafortunadamente todo esto no es tan simple. El software tiene que recoger la información del barómetro y de las
		fuentes de alimentación cuyo funcionamiento es también monitorizado. 
		\par 
		El nuevo sistema que se esta diseñando a grandes rasgos seria lo mismo, un sistema empotrado Linux con una FPGA. La idea es que el nuevo sistema
		de adquisición sea muy flexible, pueda suportar diferentes tubos, barómetros y otros periféricos. Esta flexibilidad nos permitirá implantar 
		fácilmente este sistema en otras estaciones. El sistema también esta pensado para futuramente ser extendido y poder procesar información 
		procedente de detectores de muones. Aparte de la flexibilidad el nuevo sistema de adquisición nos proporcionaría mas información tipos de 
		información, no tan solo cuentas, pero de eso hablaremos mas tarde. 
	\subsection{Bases de datos}
		Actualmente la base de datos que genera CALMA tiene esta diseñada de acuerdo con el estandart impuesto por NMDB. Actualmente existen dos replicas
		de la base de datos. Tenemos una replica de los datos crudos adquiridos en el propio sistema, para gestionar esta replica utilizamos sqlite3. La
		segunda replica esta en otra maquina conectada por red con el sistema de adquisición de datos. La segunda replica contiene los datos crudos y 
		también contiene la corrección por presión de estos. Para la segunda replica usamos MySQL. Los datos que mandamos al NMDB son los datos de la 
		segunda replica.
	\subsection{Herramientas y técnicas}
		Actualmente el equipo de CALMA hace uso de herramientas que les ayudan a analizar la información desde el punto de vista científico. Estas 
		herramientas están muy bien para los científicos, pero actualmente no existe ninguna herramienta que nos de información sobre el estado técnico 
		de la estación. Nuestra idea es crear una herramienta Web para poder automatizar algunas de las tareas que ahora son realizadas manualmente. 
